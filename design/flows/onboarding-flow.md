# PIXELO - Onboarding Flow

## Overview
- **목적**: 신규 사용자를 서비스에 안착시키고 첫 경험을 제공
- **시작점**: 앱 첫 진입
- **종료점**: 메인 홈 화면
- **관련 화면**: 스플래시, 온보딩, 로그인, 초기 설정, 튜토리얼

---

## Flow Diagram

### Happy Path (정상 흐름)

```
[앱 실행]
    |
    v
(스플래시 화면)
    |
    v [1.5초 후 자동 전환]
(온보딩 1: 서비스 소개)
    |
    v [스와이프/다음]
(온보딩 2: 질문 설명)
    |
    v [스와이프/다음]
(온보딩 3: 오브젝트 설명)
    |
    v [스와이프/다음]
(온보딩 4: 공간 완성 설명)
    |
    v [시작하기 버튼]
(로그인 화면)
    |
    +-- [카카오 로그인] --> (카카오 OAuth)
    |                          |
    +-- [네이버 로그인] --> (네이버 OAuth)
                               |
                               v
                        <인증 성공?>
                               |
              +--- Yes --------+-------- No ---+
              |                                |
              v                                v
      <신규 회원?>                    (에러 메시지)
              |                                |
   +--- Yes --+--- No ---+                     v
   |                     |              (로그인 화면)
   v                     v
(초기 설정)        (메인 홈)
   |
   v
[닉네임 입력]
   |
   v
<닉네임 중복?>
   |
   +-- Yes --> (중복 안내) --> [재입력]
   |
   +-- No
   |
   v
[프로필 이미지 선택] (선택)
   |
   v
[완료 버튼]
   |
   v
(튜토리얼 시작)
   |
   v
(튜토리얼 1: 질문 응답 방법)
   |
   v [다음/스킵]
(튜토리얼 2: 오브젝트 배치 방법)
   |
   v [다음/스킵]
(튜토리얼 3: 공유 방법)
   |
   v [완료]
(메인 홈)
   |
   v
[온보딩 완료]
```

### Alternative Paths

#### 튜토리얼 스킵

```
(튜토리얼 시작)
    |
    v
[스킵 버튼]
    |
    v
<확인 팝업>
"나중에 설정에서 다시 볼 수 있어요"
    |
    +-- [스킵할래요] --> (메인 홈)
    |
    +-- [계속 볼게요] --> (튜토리얼 진행)
```

#### 재방문 사용자 (로그인 상태)

```
[앱 실행]
    |
    v
(스플래시 화면)
    |
    v [세션 확인]
<로그인 상태?>
    |
    +-- Yes --> (메인 홈) --> [완료]
    |
    +-- No --> (로그인 화면)
```

#### 재방문 사용자 (로그아웃 상태)

```
[앱 실행]
    |
    v
(스플래시 화면)
    |
    v
(로그인 화면)  <- 온보딩 스킵
    |
    v
[소셜 로그인]
    |
    v
(메인 홈) --> [완료]
```

---

## Error Paths

### OAuth 인증 실패

```
(카카오/네이버 OAuth)
    |
    v
<인증 실패?>
    |
    v
(에러 메시지)
"로그인에 실패했어요. 다시 시도해주세요"
    |
    v
[다시 시도] --> (로그인 화면)
```

### 네트워크 오류

```
[소셜 로그인 버튼]
    |
    v
<네트워크 오류?>
    |
    v
(에러 메시지)
"인터넷 연결을 확인해주세요"
    |
    v
[다시 시도]
```

### 닉네임 유효성 검사 실패

```
[닉네임 입력]
    |
    v
<유효성 검사>
    |
    +-- 글자수 미달 (2자 미만) --> "2자 이상 입력해주세요"
    |
    +-- 글자수 초과 (10자 초과) --> "10자 이하로 입력해주세요"
    |
    +-- 특수문자 포함 --> "특수문자는 사용할 수 없어요"
    |
    +-- 금칙어 포함 --> "사용할 수 없는 단어가 포함되어 있어요"
    |
    +-- 중복 --> "이미 사용 중인 닉네임이에요"
    |
    v
(인라인 에러 메시지 표시)
    |
    v
[재입력]
```

---

## Screen Details

### 1. 스플래시 화면

```
+------------------------------------------+
|                                          |
|                                          |
|                                          |
|                                          |
|              [PIXELO 로고]               |
|                                          |
|           매일 질문, 나를 찾는 여정        |
|                                          |
|                                          |
|                                          |
|                                          |
|               [로딩 인디케이터]           |
|                                          |
+------------------------------------------+
```

**동작**:
- 앱 진입 시 1.5초간 표시
- 세션 확인 (자동 로그인 체크)
- 로고 페이드인 애니메이션

---

### 2. 온보딩 화면 (4장 구성)

```
+------------------------------------------+
|                                          |
|   [건너뛰기]                              |
|                                          |
|                                          |
|          [일러스트레이션]                 |
|                                          |
|                                          |
|                                          |
|          매일 3개의 질문에 답하면          |
|          나만의 오브젝트를 얻을 수 있어요   |
|                                          |
|                                          |
|              o  o  *  o                  |
|                                          |
|                                          |
|         [다음]  또는  [시작하기]          |
|                                          |
+------------------------------------------+
```

**온보딩 내용**:
1. **픽셀로 소개**: "매일 질문에 답하며 나를 알아가요"
2. **질문 설명**: "하루 3~5개 질문, 1분이면 충분해요"
3. **오브젝트 설명**: "응답 결과로 픽셀 오브젝트를 획득해요"
4. **공간 완성 설명**: "오브젝트로 나만의 공간을 꾸며보세요"

**인터랙션**:
- 좌우 스와이프로 페이지 이동
- 하단 인디케이터로 현재 위치 표시
- 마지막 페이지에서 "시작하기" 버튼 표시
- "건너뛰기"로 로그인 화면 직행

---

### 3. 로그인 화면

```
+------------------------------------------+
|                                          |
|              [PIXELO 로고]               |
|                                          |
|           매일 질문, 나를 찾는 여정        |
|                                          |
|                                          |
|                                          |
|                                          |
|  +------------------------------------+  |
|  |  [카카오 아이콘]  카카오로 시작하기   |  |
|  +------------------------------------+  |
|                                          |
|  +------------------------------------+  |
|  |  [네이버 아이콘]  네이버로 시작하기   |  |
|  +------------------------------------+  |
|                                          |
|                                          |
|                                          |
|                                          |
|    시작하면 서비스 이용약관과              |
|    개인정보 처리방침에 동의하게 됩니다      |
|                                          |
+------------------------------------------+
```

**인터랙션**:
- 카카오 버튼: #FEE500 배경, 검정 텍스트
- 네이버 버튼: #03C75A 배경, 흰색 텍스트
- 버튼 탭 시 각 OAuth 화면으로 이동
- 이용약관, 개인정보처리방침 링크 탭 가능

---

### 4. 초기 설정 화면

```
+------------------------------------------+
|                                          |
| [<]  프로필 설정                          |
|                                          |
|                                          |
|           +---------------+              |
|           |               |              |
|           |  [기본 이미지] |              |
|           |      +        |              |
|           +---------------+              |
|           프로필 사진 선택 (선택)          |
|                                          |
|                                          |
|   닉네임 *                               |
|   +----------------------------------+   |
|   |  픽셀로에서 불릴 이름             |   |
|   +----------------------------------+   |
|   2~10자, 특수문자 제외                   |
|                                          |
|                                          |
|                                          |
|                                          |
|   +----------------------------------+   |
|   |          완료하기                 |   |
|   +----------------------------------+   |
|                                          |
+------------------------------------------+
```

**닉네임 규칙**:
- 2~10자
- 한글, 영문, 숫자만 허용
- 특수문자 불가
- 중복 불가
- 금칙어 필터링

**프로필 이미지**:
- 선택 사항 (기본 이미지 제공)
- 기본 픽셀 캐릭터 5종 중 선택
- 추후 갤러리 업로드 기능 확장 가능

---

### 5. 튜토리얼 화면

```
+------------------------------------------+
|                                          |
|   [건너뛰기]                              |
|                                          |
|   +----------------------------------+   |
|   |                                  |   |
|   |     [질문 응답 예시 화면]          |   |
|   |     (실제 UI 스크린샷 or 모션)     |   |
|   |                                  |   |
|   +----------------------------------+   |
|                                          |
|                                          |
|           질문에 답하는 방법              |
|                                          |
|   선택지를 탭하면 다음 질문으로 넘어가요   |
|   3~5개 질문에 모두 답하면 완료!          |
|                                          |
|                                          |
|              1 / 3                       |
|                                          |
|   +----------------------------------+   |
|   |            다음                   |   |
|   +----------------------------------+   |
|                                          |
+------------------------------------------+
```

**튜토리얼 구성**:
1. 질문 응답 방법 (탭으로 선택)
2. 오브젝트 배치 방법 (드래그 앤 드롭)
3. 공유 카드 생성 방법

---

## Interaction Details

### 온보딩 스와이프
- 좌우 스와이프로 페이지 전환
- 스와이프 시 부드러운 슬라이드 애니메이션
- 마지막 페이지에서 오른쪽 스와이프 불가 (바운스 효과)
- 첫 페이지에서 왼쪽 스와이프 불가

### 소셜 로그인 버튼
- 탭 시 ripple 효과
- OAuth 팝업/인앱브라우저 전환
- 로딩 중 버튼 비활성화 + 스피너

### 닉네임 입력
- 실시간 유효성 검사 (디바운스 300ms)
- 중복 검사는 입력 완료 후 (blur 또는 제출 시)
- 유효한 경우 체크 아이콘 표시
- 에러 시 빨간색 테두리 + 에러 메시지

---

## UX Considerations

### 마찰 최소화
1. **소셜 로그인만 제공**: 이메일/비밀번호 입력 불필요
2. **최소 정보 수집**: 닉네임만 필수, 프로필 이미지 선택
3. **온보딩 스킵 가능**: 급한 사용자를 위한 옵션
4. **튜토리얼 스킵 가능**: 나중에 다시 볼 수 있음

### 첫 인상 관리
1. **매력적인 일러스트**: MZ세대 취향의 픽셀 아트
2. **간결한 카피**: 한 문장으로 핵심 전달
3. **빠른 진행**: 4페이지 온보딩, 각 3초 내 읽기 가능
4. **진행감 표시**: 인디케이터로 남은 단계 파악

### 신뢰 구축
1. **개인정보 동의 명시**: 로그인 전 안내
2. **투명한 데이터 사용**: 어떤 정보를 수집하는지 명시
3. **탈퇴 용이성**: 설정에서 쉽게 탈퇴 가능 안내

---

## States

### 버튼 상태

| 상태 | 시각적 표현 |
|------|-------------|
| Default | 기본 색상, 활성화 |
| Pressed | 살짝 어두워짐 |
| Loading | 스피너 + 비활성화 |
| Disabled | 회색, 탭 불가 |

### 입력 필드 상태

| 상태 | 시각적 표현 |
|------|-------------|
| Empty | 플레이스홀더 표시 |
| Focus | 테두리 강조 |
| Filled | 일반 테두리 |
| Valid | 초록색 체크 아이콘 |
| Error | 빨간색 테두리 + 에러 메시지 |

---

## Analytics Events

| 이벤트 | 시점 | 파라미터 |
|--------|------|----------|
| onboarding_start | 온보딩 시작 | - |
| onboarding_skip | 건너뛰기 탭 | current_page |
| onboarding_complete | 온보딩 완료 | - |
| login_attempt | 로그인 버튼 탭 | provider (kakao/naver) |
| login_success | 로그인 성공 | provider, is_new_user |
| login_fail | 로그인 실패 | provider, error_type |
| signup_complete | 초기 설정 완료 | has_profile_image |
| tutorial_skip | 튜토리얼 스킵 | current_step |
| tutorial_complete | 튜토리얼 완료 | - |

---

## Related Documents

- 메인 플로우: `/design/flows/main-flow.md`
- 질문 응답 플로우: `/design/flows/question-flow.md`
